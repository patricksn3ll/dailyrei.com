import{y as h,z as u,A as d,B as m,C as g,D as _,E as p,G as y,H as C,I as b,J as S,_ as z,o as n,c as i,F as w,d as H,a as e,K as L,L as x,t as o,b as c}from"./index-496a34ff.js";const B={name:"CategorySection",components:{},props:{category:{type:String,default:""},author:{type:String,default:""},tag:{type:String,default:""},showLoadMore:{type:Boolean,default:!1}},data(){return{fullClassName:"mag-cat-"+this.className,categoryPath:"/category/"+this.category.toLowerCase(),featuredClassName:"penci-fea-cat-"+this.className,results:[],pageCounter:0,pageSize:6,item:{}}},setup(){return{}},methods:{fecthContent:function(){let t=`https://newscluster.azurewebsites.net/api/GetFeedItemsByCategory?category=${this.category.toLocaleLowerCase()}&domain=dailyrei.com&offset=${this.pageSize*this.pageCounter}&limit=${this.pageSize}&score=.1`;this.author!=""&&(t=`https://newscluster.azurewebsites.net/api/GetFeedItemsByAuthor?author=${this.author.toLocaleLowerCase()}&domain=dailyrei.com&offset=${this.pageSize*this.pageCounter}&limit=${this.pageSize}&score=.1`),this.tag!=""&&(t=`https://newscluster.azurewebsites.net/api/GetFeedItemsByTag?tag=${this.tag.toLocaleLowerCase()}&domain=dailyrei.com&offset=${this.pageSize*this.pageCounter}&limit=${this.pageSize}&score=.1`),fetch(t).then(s=>s.json()).then(s=>{this.results=this.results.concat(s),this.pageCounter++})},formatHref:function(t){return h(t)},formatTitle:function(t,s){return s=s||88,u(t,s)},formatDescription:function(t,s){return s=s||200,d(t,s)},formatImage:function(t){return m(t)},formatAuthor:function(t){return g(t)},formatBgImage:function(t){return _(t)},formatCategoryHref:function(t){return p(t)},formatCategory:function(t){return y(t)},formatAuthorHref:function(t){return C(t)},formatPublishDate:function(t){return b(t)},formatTimeSince:function(t){return S(t)}},beforeMount(){this.fecthContent()}},A={class:"penci-wrapper-data penci-grid"},I={class:"item hentry"},T={class:"thumbnail"},v=["data-bgset","href","title"],D={class:"content-list-right content-list-center"},N={class:"header-list-style"},P={class:"cat"},j=["href"],k={class:"penci-entry-title entry-title grid-title"},F=["href"],M={class:"penci-hide-tagupdated"},G={class:"author-italic author vcard"},V=["href"],E=["datetime"],J={class:"grid-post-box-meta"},K={class:"otherl-date-author author-italic author vcard"},q=["href"],O={class:"otherl-date"},Q=["datetime"],R={class:"item-content entry-content"},U={key:0,class:"penci-pagination penci-ajax-more penci-ajax-home penci-ajax-more-scroll"},W=e("span",{class:"ajax-more-text"},"Load More Posts",-1),X=[W];function Y(t,s,l,Z,f,r){return n(),i("ul",A,[(n(!0),i(w,null,H(f.results,a=>(n(),i("li",{key:a,class:"list-post pclist-layout"},[e("article",I,[e("div",T,[e("a",{class:"penci-image-holder penci-lazy lazyloaded pcloaded","data-bgset":r.formatImage(a),href:r.formatHref(a),title:r.formatTitle(a),"data-ll-status":"loaded",style:x(r.formatBgImage(a))},null,12,v)]),e("div",D,[e("div",N,[e("span",P,[e("a",{class:"penci-cat-name penci-cat-8",href:r.formatCategoryHref(a),rel:"category tag"},[e("span",null,o(r.formatCategory(a)),1)],8,j)]),e("h2",k,[e("a",{href:r.formatHref(a)},o(r.formatTitle(a)),9,F)]),e("div",M,[e("span",G,[c("by "),e("a",{class:"author-url url fn n",href:r.formatAuthorHref(a)},o(r.formatAuthor(a)),9,V)]),c(),e("time",{class:"entry-date published",datetime:r.formatPublishDate(a)},o(r.formatTimeSince(a)),9,E)]),e("div",J,[e("span",K,[c("by "),e("a",{class:"author-url url fn n",href:r.formatAuthorHref(a)},o(r.formatAuthor(a)),9,q)]),c(),e("span",O,[e("time",{class:"entry-date published",datetime:r.formatPublishDate(a)},o(r.formatTimeSince(a)),9,Q)])])]),e("div",R,[e("p",null,o(r.formatDescription(a)),1)])])])]))),128)),l.showLoadMore?(n(),i("div",U,[e("a",{class:"penci-ajax-more-button","aria-label":"More Posts","data-mes":"Sorry, No more posts",onClick:s[0]||(s[0]=(...a)=>r.fecthContent&&r.fecthContent(...a)),style:{hand:"cursor"}},X)])):L("",!0)])}const tt=z(B,[["render",Y]]);export{tt as C};
